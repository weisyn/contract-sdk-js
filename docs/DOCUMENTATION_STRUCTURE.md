# Contract SDK JS - 文档体系与分层说明

**版本**: v1.0.0  
**最后更新**: 2025-01-23

---

## 📋 文档定位总览

### 文档层次结构

```
contract-sdk-js/
├── README.md                    # ⭐ 主入口：用户友好的 SDK 总览
├── docs/
│   ├── README.md               # 📚 文档中心：文档索引和导航
│   ├── DOCUMENTATION_STRUCTURE.md # 📋 本文档：文档体系说明
│   ├── DEVELOPER_GUIDE.md      # 📖 开发者指南：如何使用 SDK
│   ├── API_REFERENCE.md        # 📚 API 参考：接口详细说明
│   ├── BUSINESS_SCENARIOS.md  # 🎯 业务场景：如何实现业务场景
│   ├── SDK_ARCHITECTURE.md    # 🏗️ 架构设计：整体结构讨论
│   ├── APPLICATION_SCENARIOS_ANALYSIS.md  # 📊 场景分析：职责边界
│   ├── ARCHITECTURE_PLAN.md    # 📈 架构规划：未来演进
│   ├── ISPC_INNOVATION_ANALYSIS.md  # 🔮 ISPC 分析：技术深度
│   ├── SCENARIOS_VISUAL_GUIDE.md    # 📐 可视化指南：场景图表
│   ├── WES_ERROR_SPEC_IMPLEMENTATION.md   # 🔧 错误规范实施
│   └── LANGUAGE_AND_WASM_LIMITATIONS.md   # ⚠️ 语言限制：注意事项
├── helpers/
│   └── README.md               # 🔧 Helpers 层文档：业务语义层说明
├── framework/
│   └── README.md               # 🏗️ Framework 层文档：框架层说明
└── templates/
    └── README.md               # 💡 合约模板：模板索引和指南
```

---

## 🎯 核心文档的定位和职责

### 1. 主 README.md（`/README.md`）

**定位**：用户友好的 SDK 入口文档

**职责**：
- ✅ **第一印象**：让用户快速了解 SDK 是什么，为什么选择它
- ✅ **30秒上手**：提供最简单的安装和第一个合约示例
- ✅ **核心能力展示**：突出 SDK 的核心价值和能力
- ✅ **架构概览**：简洁的分层架构说明
- ✅ **文档导航**：按角色组织文档链接，指向文档中心

**特点**：
- 📏 **长度控制**：约 300-500 行，保持简洁
- 🎨 **视觉友好**：使用醒目的标题和标语
- 🚀 **快速上手**：优先展示快速开始，而非深入细节
- 🔗 **导航清晰**：提供清晰的文档导航，指向详细文档

**目标受众**：
- 所有用户（新手、开发者、架构师）

**与其他文档的关系**：
- 指向 `docs/README.md` 作为文档中心
- 指向 `docs/DEVELOPER_GUIDE.md` 作为深入学习的入口
- 指向 `templates/README.md` 作为模板入口

---

### 2. 文档中心（`docs/README.md`）

**定位**：文档索引和导航中心

**职责**：
- ✅ **文档索引**：列出所有文档及其定位
- ✅ **按角色导航**：为不同角色提供快速导航路径
- ✅ **文档分类**：按用户文档、设计文档、参考文档分类
- ✅ **优先级标注**：标注文档的重要程度（P0/P1/P2）
- ✅ **使用建议**：为不同场景提供文档使用建议
- ✅ **定位说明**：明确说明主 README 和文档中心的分工

**特点**：
- 📚 **全面性**：覆盖所有文档，不遗漏
- 🎯 **导航性**：提供清晰的导航路径
- 📋 **分类清晰**：按角色和类型分类
- 💡 **使用建议**：帮助用户快速找到需要的文档

**目标受众**：
- 所有用户（作为文档导航入口）

**与其他文档的关系**：
- 作为所有文档的索引中心
- 为主 README 提供详细的文档导航
- 为各模块文档提供统一的入口

**与主 README 的配合**：
- **主 README**：简洁、友好、吸引人，提供快速上手
- **docs/README**：详细、全面、可查阅，提供完整索引

---

### 3. 开发者指南（`docs/DEVELOPER_GUIDE.md`）

**定位**：JS SDK 视角的合约开发指南

**职责**：
- ✅ **安装与环境**：Go/TinyGo 环境设置
- ✅ **开发流程**：从模板到部署的完整流程
- ✅ **核心概念**：合约生命周期、参数解析、错误处理
- ✅ **开发模式**：常见开发模式和最佳实践
- ✅ **引用平台文档**：平台概念指向主仓库文档

**目标受众**：
- 合约开发者（主要）
- 新手开发者

**与其他文档的关系**：
- 引用 `API_REFERENCE.md` 作为 API 详细说明
- 引用 `BUSINESS_SCENARIOS.md` 作为场景实现参考
- 引用 `LANGUAGE_AND_WASM_LIMITATIONS.md` 作为限制说明
- 引用平台文档作为概念解释

---

### 4. API 参考（`docs/API_REFERENCE.md`）

**定位**：JS SDK 接口详细说明

**职责**：
- ✅ **Framework 层 API**：环境查询、事件日志、基础能力
- ✅ **Helpers 层 API**：业务语义接口（Token、Staking、Governance 等）
- ✅ **接口参数和返回值**：详细的类型定义和使用示例
- ✅ **引用平台文档**：HostABI 原语能力指向主仓库文档

**目标受众**：
- 合约开发者（主要）
- 架构师（了解 API 设计）

**与其他文档的关系**：
- 被 `DEVELOPER_GUIDE.md` 引用
- 被 `BUSINESS_SCENARIOS.md` 引用
- 引用平台文档作为底层能力说明

---

### 5. 业务场景实现指南（`docs/BUSINESS_SCENARIOS.md`）

**定位**：如何使用 JS SDK 实现业务场景

**职责**：
- ✅ **场景前半部分**：链接到主仓库对应场景文档
- ✅ **场景后半部分**：JS SDK 版本的实现建议 + 模板指引 + 关键 API
- ✅ **场景覆盖**：电商、制造业、DeFi、NFT 等主要场景

**目标受众**：
- 合约开发者（主要）
- 产品负责人（了解场景支持）

**与其他文档的关系**：
- 引用主仓库场景文档作为业务流说明
- 引用 `DEVELOPER_GUIDE.md` 作为开发流程
- 引用 `API_REFERENCE.md` 作为 API 说明
- 引用 `templates/README.md` 作为模板指引

---

### 6. SDK 内部架构（`docs/SDK_ARCHITECTURE.md`）

**定位**：SDK 内部分层架构设计

**职责**：
- ✅ **聚焦 SDK 自身**：helpers 分层、framework 层设计
- ✅ **引用平台架构**：WES 7 层架构指向主仓库文档
- ✅ **模块组织**：模块组织方式、依赖关系说明
- ✅ **设计决策**：设计决策记录

**目标受众**：
- 架构师（主要）
- 贡献者（了解代码结构）

**与其他文档的关系**：
- 引用平台架构文档作为系统级架构
- 被 `APPLICATION_SCENARIOS_ANALYSIS.md` 引用
- 被 `ARCHITECTURE_PLAN.md` 引用

---

### 7. 应用场景分析（`docs/APPLICATION_SCENARIOS_ANALYSIS.md`）

**定位**：SDK 职责边界分析

**职责**：
- ✅ **聚焦 SDK 职责**：在某场景中，JS SDK 负责哪一段？
- ✅ **引用平台场景**：详细业务流图、跨子系统交互指向主仓库文档
- ✅ **职责划分**：SDK 与 Client SDK、Workbench、节点的职责划分

**目标受众**：
- 架构师（主要）
- 产品负责人（了解职责边界）

**与其他文档的关系**：
- 引用主仓库场景文档作为完整业务流
- 引用 `SDK_ARCHITECTURE.md` 作为架构说明
- 引用 `SCENARIOS_VISUAL_GUIDE.md` 作为可视化参考

---

### 8. ISPC 创新分析（`docs/ISPC_INNOVATION_ANALYSIS.md`）

**定位**：JS SDK 如何使用 ISPC

**职责**：
- ✅ **聚焦 SDK 集成**：对 Go 合约开发者，ISPC 带来哪些能力
- ✅ **引用平台文档**：ISPC 核心范式、受控外部交互机制指向主仓库文档
- ✅ **能力映射**：这些能力在 JS SDK 中分别由哪些 helpers / framework API 暴露
- ✅ **开发模式**：典型"外部调用 + ZK / 证明"的开发模式

**目标受众**：
- 架构师（主要）
- 高级开发者（了解 ISPC 能力）

**与其他文档的关系**：
- 引用主仓库 ISPC 文档作为核心范式说明
- 引用 `API_REFERENCE.md` 作为 API 说明
- 引用 `DEVELOPER_GUIDE.md` 作为开发模式

---

### 9. WES Error Spec 实施（`docs/WES_ERROR_SPEC_IMPLEMENTATION.md`）

**定位**：JS SDK 如何对接错误规范

**职责**：
- ✅ **错误码映射**：Host 层问题映射到 Go 侧错误码
- ✅ **错误处理模式**：开发者在合约里应该如何处理/返回错误
- ✅ **引用平台文档**：WES Error Specification 指向主仓库文档

**目标受众**：
- 合约开发者（主要）
- 架构师（了解错误处理设计）

**与其他文档的关系**：
- 引用主仓库错误规范文档作为规范定义
- 被 `DEVELOPER_GUIDE.md` 引用
- 被 `API_REFERENCE.md` 引用

---

### 10. 语言与 WASM 限制（`docs/LANGUAGE_AND_WASM_LIMITATIONS.md`）

**定位**：Go/TinyGo 特有的限制和注意事项

**职责**：
- ✅ **TinyGo 支持矩阵**：支持的标准库和特性
- ✅ **Unsafe 指针注意事项**：WASM 环境下的特殊用法
- ✅ **WASM 环境限制**：禁止使用的标准库和特性
- ✅ **编译限制**：编译参数和优化建议

**目标受众**：
- 合约开发者（主要）
- 架构师（了解技术限制）

**与其他文档的关系**：
- 被 `DEVELOPER_GUIDE.md` 引用
- 被 `API_REFERENCE.md` 引用（在 API 说明中提及限制）

---

## 🔄 文档配合关系

### 文档层次关系

```
主 README.md（用户入口）
    │
    ├─> 30秒上手、核心能力、架构概览
    │   （简洁、友好、吸引人）
    │
    └─> docs/README.md（文档中心）
            │
            ├─> 开发者指南、API 参考、业务场景
            │   （详细、全面、可查阅）
            │
            ├─> 架构设计文档
            │   （面向架构师和贡献者）
            │
            └─> 模块文档、示例代码
                （模块特定、实用性强）
```

### 用户阅读路径

**新手路径**：
```
主 README.md（了解 SDK，30秒上手）
  └─> Hello World 示例（完成第一个合约）
      └─> docs/README.md（文档中心）
          └─> DEVELOPER_GUIDE.md（深入学习）
              └─> templates/README.md（参考示例）
```

**开发路径**：
```
主 README.md（了解核心能力）
  └─> docs/README.md（文档中心）
      └─> API_REFERENCE.md（查阅 API）
          └─> helpers/README.md（模块文档）
              └─> templates/README.md（参考示例）
```

**架构路径**：
```
主 README.md（了解架构概览）
  └─> docs/README.md（文档中心）
      └─> SDK_ARCHITECTURE.md（架构设计）
          └─> APPLICATION_SCENARIOS_ANALYSIS.md（场景分析）
```

---

## 📏 文档长度建议

| 文档 | 建议长度 | 说明 |
|------|---------|------|
| 主 README.md | ≤ 500 行 | 保持简洁，突出核心价值 |
| docs/README.md | ≤ 500 行 | 导航文档，保持清晰 |
| DEVELOPER_GUIDE.md | 800-1500 行 | 完整教程，可适当详细 |
| API_REFERENCE.md | 1000+ 行 | 技术文档，需要详细 |
| BUSINESS_SCENARIOS.md | 1000+ 行 | 场景文档，需要详细 |
| SDK_ARCHITECTURE.md | 500-1000 行 | 架构文档，适中长度 |
| 模块文档 | 200-500 行 | 模块说明，适中长度 |

---

## ✅ 文档质量检查清单

### 主 README.md

- [x] 有醒目的标题和标语
- [x] 30秒上手部分完整且可运行
- [x] 核心能力展示清晰
- [x] 文档导航按角色组织
- [x] 长度控制在 500 行以内
- [x] 视觉友好（使用 emoji、表格、代码块）

### docs/README.md

- [x] 列出所有文档
- [x] 按角色组织导航
- [x] 提供快速导航路径
- [x] 标注文档优先级
- [x] 提供使用建议
- [x] 明确说明文档定位和分工

---

## 🔗 文档维护原则

### 1. 单一职责原则

每个文档只负责一个主题，避免内容重复和混乱。

### 2. 层次清晰原则

- **主 README**：总览和快速开始（用户入口）
- **docs/README**：文档索引和导航（文档中心）
- **具体文档**：详细说明特定主题

### 3. 用户友好原则

- **新手友好**：提供清晰的学习路径
- **开发者友好**：提供详细的 API 说明和示例
- **架构师友好**：提供架构设计文档

### 4. 及时更新原则

- 代码变更时同步更新文档
- 定期检查文档的准确性
- 标注文档的最后更新时间

---

## 📊 文档配合关系图

```
┌─────────────────────────────────────────────────────────┐
│              主 README.md（用户入口）                    │
│  ┌─────────────────────────────────────────────────┐  │
│  │ • 醒目标题和标语                                  │  │
│  │ • 30秒上手（安装、第一个合约）                    │  │
│  │ • 核心能力展示                                    │  │
│  │ • 架构概览（简洁）                                │  │
│  │ • 文档导航（指向文档中心）                        │  │
│  └─────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│            docs/README.md（文档中心）                    │
│  ┌─────────────────────────────────────────────────┐  │
│  │ • 文档定位说明（明确分工）                        │  │
│  │ • 按角色导航（新手/开发者/架构师）                │  │
│  │ • 文档分类（用户文档/设计文档/参考文档）          │  │
│  │ • 优先级标注（P0/P1/P2）                         │  │
│  │ • 使用建议（不同场景的文档使用）                  │  │
│  └─────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
        ↓                    ↓                    ↓
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│ 开发者指南    │    │ API 参考     │    │ 架构设计     │
│ 业务场景     │    │ 模块文档     │    │ 场景分析     │
│ 示例代码     │    │ 参考文档     │    │ 规划文档     │
└──────────────┘    └──────────────┘    └──────────────┘
```

---

## 💡 关键设计原则

### 1. 入口友好性

**主 README.md** 应该：
- ✅ 快速吸引用户注意力（醒目标题、清晰标语）
- ✅ 30秒内让用户上手（简单示例、快速安装）
- ✅ 突出核心价值（为什么选择这个 SDK）
- ✅ 提供清晰的导航（指向详细文档）

### 2. 文档中心职责

**docs/README.md** 应该：
- ✅ 作为所有文档的索引中心
- ✅ 明确说明各文档的定位
- ✅ 提供按角色的导航路径
- ✅ 帮助用户快速找到需要的文档

### 3. 避免重复

- ❌ **主 README** 不应该包含详细的 API 说明
- ❌ **文档中心** 不应该重复主 README 的内容
- ✅ **主 README** 提供概览，**文档中心** 提供索引
- ✅ **具体文档** 提供详细说明

---

**最后更新**: 2025-01-23  
**维护者**: WES Core Team

